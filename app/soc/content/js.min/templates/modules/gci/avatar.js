melange.templates.inherit(function(o,g){function i(a){a=/^(\d\d?)-(\w+)\.jpg$/.exec(a);var b="blue";if(a!==null)b=a[2];return b}function m(a){a=a.split("/");var b=a.pop();return{path:a.join("/"),file:b}}function n(a){return a.charAt(0).toUpperCase()+a.slice(1)}function j(a){var b=g.prefix_path,c="",d="",e="",f=jQuery("#"+a);if(a==="avatar-color"){c="colors/avatar-color-";d=".png"}else c=i(f.val())+"/";f.children("option").each(function(){var k=jQuery(this),l=k.attr("value");if(a==="avatar-color")e=
n(l);k.attr("title",b+c+l+d).text(e)})}function h(a){var b=i(a);jQuery("#avatar-preview").attr("src",g.prefix_path+b+"/"+a)}jQuery("#avatar-color_child a").live("click",function(){var a=jQuery(this).children(".ddTitleText:first").text().toLowerCase(),b=g.prefix_path+a+"/",c="1-"+a+".jpg";jQuery("#avatar-icon_child a").each(function(d){var e=d+1;d=jQuery(this);var f=d.children("img:first");e=e+"-"+a+".jpg";f.attr("src",b+e);if(d.hasClass("selected"))c=e});jQuery("#avatar-icon_titletext img").attr("src",
b+c);jQuery("#avatar").val(c);h(c)});jQuery("#avatar-icon_child a").live("click",function(){var a=m(jQuery(this).children("img:first").attr("src")).file;jQuery("#avatar").val(a);h(a)});jQuery(function(){j("avatar-icon");j("avatar-color");h(jQuery("#avatar").val());jQuery("#avatar-icon").msDropDown();jQuery("#avatar-color").msDropDown()})});
